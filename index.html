<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Song Selector</title>
    <script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
    <style>
        ul {
            list-style-type: none;
        }
    </style>
        <script language="javascript">

            function genreClick(){
                console.log("in function");
                var selection ="";
                var op = document.getElementById("selection").selectedIndex;
                $.get( "https://panibhengsri.github.io/SetList/songs.json", function( data ) {
                
                    strHTML= "";

                    data.forEach(function(s) { 
                        if (op == 0){
                            strHTML = strHTML + "<ul>" 
                            + "<li><strong>" + s.name + "</strong></li>"
                            + "<li>" + "Album: " + s.album + "</li>"
                            + "<li>" + "Artist: " + s.artist + "</li>"
                            + "<li>" + "Genre: " + s.genre + "</li>"
                            + "<li>" + "Released: " + s.year + "</li>"
                            +"</ul>";
                        } else {
                            console.log("change");
                            selection = document.getElementById("selection").options[op].text;
                            console.log("selection: " + selection);
                            console.log("genre: " + s.genre)
                            console.log(s.genre.localeCompare(selection) == 0);
                            if (s.genre.localeCompare(selection) == 0){
                                console.log(s.genre);
                                strHTML = strHTML + "<ul>" 
                                + "<li><strong>" + s.title + "</strong></li>"
                                + "<li>" + "Album: " + s.album + "</li>"
                                + "<li>" + "Artist: " + s.artist + "</li>"
                                + "<li>" + "Genre: " + s.genre + "</li>"
                                + "<li>" + "Released: " + s.year + "</li>"
                                +"</ul>";
                            }
                        }  
                    }) 
                    document.getElementById("display").innerHTML = strHTML;  
                })

            }

            window.onload = function(){
                document.getElementById("filter").addEventListener('click', function(){
                    genreClick();
                })
            }
        </script>
</head>

<body>
    <h1>Song Selector</h1>
    <!-- <input type="button" value="VIEW ALL" id="show"> -->
    <br>Pick Song Genre To Show:
    <select name="sList" size="1"  id="selection" >
        <option>VIEW ALL</option>
        <option>RnB</option>
        <option>HipHop</option>
        <option>Pop</option>
    </select>    
    <input type="button" id="filter" value="FILTER"> 
    <div id=display></div>
	<script language="javascript">
        

        $.get( "https://panibhengsri.github.io/SetList/songs.json", function( data ) {
            strHTML= "";

            data.forEach(function(s) { 
            strHTML = strHTML + "<ul>" 
                    + "<li><strong>" + s.title + "</strong></li>"
                    + "<li>" + "Album: " + s.album + "</li>"
                    + "<li>" + "Artist: " + s.artist + "</li>"
                    + "<li>" + "Genre: " + s.genre + "</li>"
                    + "<li>" + "Released: " + s.year + "</li>"
                    +"</ul>";
            }) 
            
        document.getElementById("display").innerHTML += strHTML;  
        })

    </script>
</body>
</html>